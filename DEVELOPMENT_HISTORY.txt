(íŒŒì¼ì˜ ê¸°ì¡´ ë‚´ìš©ì€ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ê³  ë‹¤ìŒ ë‚´ìš©ì„ íŒŒì¼ ëì— ì¶”ê°€)

=====================================
## ì„¸ì…˜ 18: ì£¼ìš”ì§€í‘œ ì¶”ì  UI/UX ëŒ€í­ ê°œì„  ë° ì†Œì…œ ë¡œê·¸ì¸ ë§¤ì¥ ì—°ê²° ë¬¸ì œ í•´ê²°
=====================================

**ì‘ì—… ê¸°ê°„:** 2026-01-21 (ì˜¤í›„)  
**ì£¼ìš” ëª©í‘œ:** ì£¼ìš”ì§€í‘œ ì¶”ì  í˜ì´ì§€ì˜ ì‚¬ìš©ì ê²½í—˜ ê°œì„  ë° ì†Œì…œ ë¡œê·¸ì¸ ì‚¬ìš©ìì˜ ë§¤ì¥ ì—°ê²° ë¬¸ì œ í•´ê²°

---

### ğŸ“Š 1. ì£¼ìš”ì§€í‘œ ì¶”ì  UI/UX ëŒ€í­ ê°œì„ 

#### 1.1 ëª¨ë‹¬ ë‹¤ì´ì–¼ë¡œê·¸ ë„ì…
**ë¬¸ì œ:** 
- ì§€í‘œë¥¼ ë³´ë ¤ë©´ í˜ì´ì§€ í•˜ë‹¨ê¹Œì§€ ìŠ¤í¬ë¡¤í•´ì•¼ í•¨
- ì„¤ì • ë³€ê²½ ì‹œ UIê°€ ì¹´ë“œ ë‚´ë¶€ì—ì„œ í¼ì³ì ¸ ë³µì¡í•¨

**í•´ê²°:**
```typescript
// frontend/components/ui/dialog.tsx ìƒì„±
import * as DialogPrimitive from "@radix-ui/react-dialog"

const Dialog = DialogPrimitive.Root
const DialogTrigger = DialogPrimitive.Trigger
const DialogContent = React.forwardRef<...>(({ className, children, ...props }, ref) => (
  <DialogPortal>
    <DialogOverlay />
    <DialogPrimitive.Content
      className="fixed left-[50%] top-[50%] z-50 w-full max-w-4xl translate-x-[-50%] translate-y-[-50%] ..."
      {...props}
    >
      {children}
      <DialogPrimitive.Close className="absolute right-4 top-4 ...">
        <X className="h-4 w-4" />
      </DialogPrimitive.Close>
    </DialogPrimitive.Content>
  </DialogPortal>
))
```

**ë³€ê²½ ì‚¬í•­:**
- âœ… **ì§€í‘œ ë³´ê¸° ëª¨ë‹¬:** ì°¨íŠ¸ì™€ í…Œì´ë¸”ì„ ëª¨ë‹¬ë¡œ í‘œì‹œ
- âœ… **ì„¤ì • ëª¨ë‹¬:** ìŠ¤ì¼€ì¤„ëŸ¬ ë° ì•Œë¦¼ ì„¤ì •ì„ ë³„ë„ ëª¨ë‹¬ë¡œ ë¶„ë¦¬
- âœ… **ë°˜ì‘í˜• ë””ìì¸:** ëª¨ë°”ì¼/íƒœë¸”ë¦¿/PC ëª¨ë‘ ìµœì í™”

#### 1.2 ë¦¬ë·° ë³€ë™ê°’ ì¶”ê°€
**ìš”ì²­:** í…Œì´ë¸”ì— ìˆœìœ„ ë³€ë™ë¿ë§Œ ì•„ë‹ˆë¼ ë°©ë¬¸ìë¦¬ë·°, ë¸”ë¡œê·¸ë¦¬ë·° ë³€ë™ë„ í‘œì‹œ

**êµ¬í˜„:**
```typescript
// frontend/app/dashboard/naver/metrics-tracker/page.tsx
{dailyMetrics.map((metric, index) => {
  const prevMetric = dailyMetrics[index + 1]
  const visitorReviewChange = prevMetric 
    ? metric.visitor_review_count - prevMetric.visitor_review_count 
    : null
  const blogReviewChange = prevMetric 
    ? metric.blog_review_count - prevMetric.blog_review_count 
    : null

  return (
    <tr key={metric.id}>
      <td>{new Date(metric.collection_date).toLocaleDateString('ko-KR')}</td>
      <td>{metric.rank}ìœ„</td>
      <td>
        {metric.rank_change ? (
          <span className={metric.rank_change > 0 ? 'text-green-600' : 'text-red-600'}>
            {metric.rank_change > 0 ? <TrendingUp /> : <TrendingDown />}
            {Math.abs(metric.rank_change)}
          </span>
        ) : '-'}
      </td>
      <td>
        <Users className="w-3 h-3" />
        {metric.visitor_review_count.toLocaleString()}ê°œ
      </td>
      <td>
        {visitorReviewChange !== null && visitorReviewChange !== 0 ? (
          <span className={visitorReviewChange > 0 ? 'text-red-600' : 'text-blue-600'}>
            {visitorReviewChange > 0 ? 'â†‘' : 'â†“'}{Math.abs(visitorReviewChange)}
          </span>
        ) : '-'}
      </td>
      <td>
        <FileText className="w-3 h-3" />
        {metric.blog_review_count.toLocaleString()}ê°œ
      </td>
      <td>
        {blogReviewChange !== null && blogReviewChange !== 0 ? (
          <span className={blogReviewChange > 0 ? 'text-red-600' : 'text-blue-600'}>
            {blogReviewChange > 0 ? 'â†‘' : 'â†“'}{Math.abs(blogReviewChange)}
          </span>
        ) : '-'}
      </td>
    </tr>
  )
})}
```

**í…Œì´ë¸” êµ¬ì¡°:**
| ë‚ ì§œ | ìˆœìœ„ | ìˆœìœ„ ë³€ë™ | ë°©ë¬¸ìë¦¬ë·° | ë¦¬ë·° ë³€ë™ | ë¸”ë¡œê·¸ë¦¬ë·° | ë¦¬ë·° ë³€ë™ |
|------|------|-----------|-----------|----------|-----------|----------|

---

### ğŸ¨ 2. ì¶”ì  ì¹´ë“œ UI ê°œì„ 

#### 2.1 ì¹´ë“œ ë ˆì´ì•„ì›ƒ ì¬ì„¤ê³„
**ë³€ê²½ ì „:** ë‹¨ìˆœ ë¦¬ìŠ¤íŠ¸ í˜•íƒœ
**ë³€ê²½ í›„:** ê·¸ë¦¬ë“œ ì¹´ë“œ ë ˆì´ì•„ì›ƒ (ë°˜ì‘í˜•)

```typescript
// ë°˜ì‘í˜• ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ
<div className="grid gap-4 md:grid-cols-1 lg:grid-cols-2">
  {trackers.map((tracker) => (
    <Card key={tracker.id} className="p-5 hover:shadow-md transition-shadow">
      {/* ì¹´ë“œ ë‚´ìš© */}
    </Card>
  ))}
</div>
```

**ë””ìì¸ ê°œì„ :**
- âœ… ê·¸ë¼ë””ì–¸íŠ¸ ë°°ê²½ìœ¼ë¡œ ê°€ë…ì„± í–¥ìƒ
- âœ… ì •ë³´ êµ¬ì¡°í™” (í—¤ë”, ì •ë³´, ë²„íŠ¼ ê·¸ë£¹)
- âœ… í˜¸ë²„ íš¨ê³¼ ì¶”ê°€
- âœ… ì•„ì´ì½˜ ì¶”ê°€ (BarChart3, Bell, Users, FileText)

#### 2.2 ìµœê·¼ ì§€í‘œ ë¯¸ë¦¬ë³´ê¸° ì¶”ê°€
**ìš”ì²­:** ì¹´ë“œ 1ì‚¬ë¶„ë©´ì˜ ë¹ˆ ê³µê°„ì— ìµœê·¼ ìˆ˜ì§‘ëœ ì§€í‘œ í‘œì‹œ

**êµ¬í˜„:**
```typescript
// ìµœê·¼ 2ê°œì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ë³€ë™ê°’ ê³„ì‚°
const [latestMetrics, setLatestMetrics] = useState<Record<string, DailyMetric | null>>({})
const [previousMetrics, setPreviousMetrics] = useState<Record<string, DailyMetric | null>>({})

const loadLatestMetrics = async (trackerList: MetricTracker[], token: string | null) => {
  const latestMap: Record<string, DailyMetric | null> = {}
  const previousMap: Record<string, DailyMetric | null> = {}
  
  await Promise.all(
    trackerList.map(async (tracker) => {
      const response = await fetch(`${api.baseUrl}/api/v1/metrics/trackers/${tracker.id}/metrics`, {
        headers: { 'Authorization': `Bearer ${token}` }
      })
      const data = await response.json()
      latestMap[tracker.id] = data.metrics?.[0] || null
      previousMap[tracker.id] = data.metrics?.[1] || null
    })
  )
  
  setLatestMetrics(latestMap)
  setPreviousMetrics(previousMap)
}
```

**UI ë””ìì¸:**
```typescript
<div className="grid grid-cols-3 gap-2">
  {/* ìˆœìœ„ */}
  <div className="bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg px-2 py-2.5">
    <div className="text-[10px] text-blue-600 font-medium">ìˆœìœ„</div>
    <span className="text-xl font-bold text-blue-700">
      {latestMetrics[tracker.id].rank}
    </span>
    {/* ì „ì¼ ëŒ€ë¹„ ë³€ë™ */}
    {previousMetrics[tracker.id] && (() => {
      const change = latestMetrics[tracker.id].rank - previousMetrics[tracker.id].rank
      return change !== 0 ? (
        <span className={change > 0 ? 'text-red-600' : 'text-blue-600'}>
          {change > 0 ? 'â†“' : 'â†‘'}{Math.abs(change)}
        </span>
      ) : <span className="text-gray-400">-</span>
    })()}
    {!previousMetrics[tracker.id] && <span className="text-gray-400">ì‹ ê·œ</span>}
  </div>
  
  {/* ë°©ë¬¸ìë¦¬ë·° */}
  <div className="bg-gradient-to-br from-green-50 to-green-100 rounded-lg">
    <Users className="w-3 h-3" />
    <span>ë°©ë¬¸ì</span>
    <span className="font-bold">{visitorCount}</span>
    {/* ë³€ë™ê°’ */}
  </div>
  
  {/* ë¸”ë¡œê·¸ë¦¬ë·° */}
  <div className="bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg">
    <FileText className="w-3 h-3" />
    <span>ë¸”ë¡œê·¸</span>
    <span className="font-bold">{blogCount}</span>
    {/* ë³€ë™ê°’ */}
  </div>
</div>
```

**ê¸°ëŠ¥:**
- âœ… ìˆœìœ„, ë°©ë¬¸ìë¦¬ë·°, ë¸”ë¡œê·¸ë¦¬ë·° 3ê°œ ì§€í‘œ í‘œì‹œ
- âœ… ì „ì¼ ëŒ€ë¹„ ë³€ë™ê°’ í‘œì‹œ (ìƒ‰ìƒ + í™”ì‚´í‘œ)
- âœ… ìˆœìœ„: ì˜¬ë¼ê°€ë©´ íŒŒë€ìƒ‰ â†‘, ë‚´ë ¤ê°€ë©´ ë¹¨ê°„ìƒ‰ â†“
- âœ… ë¦¬ë·°: ì¦ê°€í•˜ë©´ ë¹¨ê°„ìƒ‰ â†‘, ê°ì†Œí•˜ë©´ íŒŒë€ìƒ‰ â†“
- âœ… ë°ì´í„° ì—†ì„ ë•Œ: "ë°ì´í„° ì—†ìŒ" í‘œì‹œ
- âœ… ì „ì¼ ë°ì´í„° ì—†ì„ ë•Œ: "ì‹ ê·œ" í‘œì‹œ
- âœ… "ì§€ê¸ˆ ìˆ˜ì§‘" í›„ ìë™ ê°±ì‹ 

---

### ğŸ› 3. ë²„ê·¸ ìˆ˜ì •

#### 3.1 `isSavingSettings` ìƒíƒœ ëˆ„ë½
**ë¬¸ì œ:** ì„¤ì • ëª¨ë‹¬ì—ì„œ "ì €ì¥" ë²„íŠ¼ í´ë¦­ ì‹œ ì—ëŸ¬ ë°œìƒ
```
Uncaught ReferenceError: isSavingSettings is not defined
```

**í•´ê²°:**
```typescript
// frontend/app/dashboard/naver/metrics-tracker/page.tsx
const [isSavingSettings, setIsSavingSettings] = useState(false)

const handleSaveSettings = async (trackerId: string) => {
  setIsSavingSettings(true)
  try {
    // ì„¤ì • ì €ì¥ ë¡œì§
  } finally {
    setIsSavingSettings(false)
  }
}
```

---

### ğŸ”§ 4. ì†Œì…œ ë¡œê·¸ì¸ ì‚¬ìš©ìì˜ ë§¤ì¥ ì—°ê²° ë¬¸ì œ í•´ê²°

#### 4.1 ë¬¸ì œ ìƒí™©
**ì¦ìƒ:**
- ì´ë©”ì¼ ê³„ì •: ë§¤ì¥ì´ ì •ìƒì ìœ¼ë¡œ í‘œì‹œë¨
- ì†Œì…œ ë¡œê·¸ì¸ ê³„ì •: ë§¤ì¥ì´ 0ê°œë¡œ í‘œì‹œë¨

**Sequential Thinking ë¶„ì„ ê³¼ì •:**

1. **ê°€ì„¤ 1:** stores í…Œì´ë¸”ì˜ user_idê°€ ì†Œì…œ ë¡œê·¸ì¸ ì‚¬ìš©ìì™€ ë§¤ì¹­ë˜ì§€ ì•ŠìŒ
2. **ê°€ì„¤ 2:** RLS ì •ì±…ìœ¼ë¡œ ì¸í•´ auth.uid()ê°€ nullì´ë©´ ë°ì´í„° ì¡°íšŒ ë¶ˆê°€
3. **í™•ì¸:** stores í…Œì´ë¸”ì€ service_roleë¡œ ì¡°íšŒí•˜ë¯€ë¡œ RLS ë¬¸ì œ ì•„ë‹˜
4. **ì§„ë‹¨:** í”„ë¡ íŠ¸ì—”ë“œê°€ ì „ë‹¬í•˜ëŠ” user_id í™•ì¸ í•„ìš”

#### 4.2 ë””ë²„ê¹… ë¡œê·¸ ì¶”ê°€

**ë°±ì—”ë“œ (stores.py):**
```python
async def list_stores(user_id: UUID):
    try:
        supabase = get_supabase_client()
        
        # ë””ë²„ê¹…: user_id ë¡œê¹…
        logger.info(f"[DEBUG] list_stores called with user_id: {user_id}")
        
        result = supabase.table("stores").select("*").eq(
            "user_id", str(user_id)
        ).order("created_at", desc=True).execute()
        
        # ë””ë²„ê¹…: ì¡°íšŒ ê²°ê³¼ ë¡œê¹…
        logger.info(f"[DEBUG] list_stores found {len(result.data) if result.data else 0} stores")
```

**ë°±ì—”ë“œ (auth.py):**
```python
# ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸
if existing_user.data and len(existing_user.data) > 0:
    user_data = existing_user.data[0]
    user_id = user_data["id"]
    print(f"[DEBUG] ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ - ê¸°ì¡´ ì‚¬ìš©ì: user_id={user_id}, email={email}")

# ë„¤ì´ë²„ ë¡œê·¸ì¸
if existing_user.data and len(existing_user.data) > 0:
    user_data = existing_user.data[0]
    user_id = user_data["id"]
    print(f"[DEBUG] ë„¤ì´ë²„ ë¡œê·¸ì¸ - ê¸°ì¡´ ì‚¬ìš©ì: user_id={user_id}, email={email}")
```

**í”„ë¡ íŠ¸ì—”ë“œ (useStores.ts):**
```typescript
// ë””ë²„ê¹…: user ì •ë³´ ë¡œê¹…
console.log("[DEBUG] useStores - user:", user)
console.log("[DEBUG] useStores - user.id:", user.id)

const response = await fetch(api.stores.list(user.id))

if (!response.ok) {
  console.error("[DEBUG] useStores - API ì‹¤íŒ¨:", response.status)
}

const data = await response.json()
console.log("[DEBUG] useStores - API ì‘ë‹µ:", data)
console.log("[DEBUG] useStores - ë§¤ì¥ ê°œìˆ˜:", data.stores?.length || 0)
```

#### 4.3 ì›ì¸ íŒŒì•…

**í…ŒìŠ¤íŠ¸ ê²°ê³¼:**
```
í”„ë¡ íŠ¸ì—”ë“œ ì½˜ì†”:
[DEBUG] useStores - API ì‘ë‹µ: {status: 'success', stores: Array(0), total_count: 0}
[DEBUG] useStores - ë§¤ì¥ ê°œìˆ˜: 0

ë°±ì—”ë“œ ë¡œê·¸:
INFO: 172.18.0.1:37842 - "GET /api/v1/stores/?user_id=d06a0818-aaa2-4a95-9372-2697364fe122" 200 OK

Supabase ì¿¼ë¦¬ ê²°ê³¼:
SELECT id, user_id, store_name FROM stores 
WHERE user_id = 'd06a0818-aaa2-4a95-9372-2697364fe122'::uuid
â†’ ê²°ê³¼: "ì‚°ì„ ìŠ¤ì‹œ" ë§¤ì¥ 1ê°œ ì¡´ì¬
```

**ë°œê²¬:**
- âœ… user_idëŠ” ì •í™•í•¨: `d06a0818-aaa2-4a95-9372-2697364fe122`
- âœ… ë°ì´í„°ë² ì´ìŠ¤ì— ë§¤ì¥ ì¡´ì¬í•¨
- âŒ ë°±ì—”ë“œê°€ ë§¤ì¥ 0ê°œ ë°˜í™˜ â†’ **ì½”ë“œ ë¬¸ì œ ì•„ë‹Œ ì»¨í…Œì´ë„ˆ ë¬¸ì œ**

#### 4.4 í•´ê²°: Docker ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘

**ì›ì¸:** 
ë°±ì—”ë“œ ì½”ë“œ ë³€ê²½ í›„ Docker ì»¨í…Œì´ë„ˆê°€ ì¬ì‹œì‘ë˜ì§€ ì•Šì•„ ìƒˆ ì½”ë“œê°€ ì ìš©ë˜ì§€ ì•ŠìŒ

**í•´ê²°:**
```bash
# EC2 ì„œë²„ì—ì„œ ì‹¤í–‰
cd ~/egurado/backend
docker-compose down
docker-compose up -d --build
```

**ê²°ê³¼:**
```
Stopping egurado-api ... done
Removing egurado-api ... done
Building egurado-api
Successfully built b920abd1dcfe
Creating egurado-api ... done
```

**í…ŒìŠ¤íŠ¸ ê²°ê³¼:**
- âœ… ì†Œì…œ ë¡œê·¸ì¸ í›„ ë§¤ì¥ì´ ì •ìƒì ìœ¼ë¡œ í‘œì‹œë¨
- âœ… ì´ë©”ì¼ ê³„ì •ë„ ì •ìƒ ì‘ë™
- âœ… ëª¨ë“  ê¸°ëŠ¥ ì •ìƒ ì‘ë™

---

### ğŸ“¦ ë°°í¬ ë° í…ŒìŠ¤íŠ¸

#### ì»¤ë°‹ ë‚´ì—­
```bash
# 1. UI ê°œì„ 
feat: ì£¼ìš”ì§€í‘œ ì¶”ì  UI ê°œì„ 
- ì§€í‘œ ë³´ê¸°ë¥¼ ëª¨ë‹¬ë¡œ ë³€ê²½í•˜ì—¬ ìŠ¤í¬ë¡¤ ë¶ˆí•„ìš”
- ì„¤ì •ë„ ëª¨ë‹¬ë¡œ ë³€ê²½í•˜ì—¬ UX ê°œì„ 
- í…Œì´ë¸”ì— ë°©ë¬¸ìë¦¬ë·°/ë¸”ë¡œê·¸ë¦¬ë·° ë³€ë™ ì¶”ê°€
- ì¶”ì  ëª©ë¡ì„ ê·¸ë¦¬ë“œ ì¹´ë“œ ë ˆì´ì•„ì›ƒìœ¼ë¡œ ê°œì„  (ë°˜ì‘í˜•)
- ì•„ì´ì½˜ ì¶”ê°€ ë° ì •ë³´ êµ¬ì¡°í™”ë¡œ ê°€ë…ì„± í–¥ìƒ

# 2. isSavingSettings ë²„ê·¸ ìˆ˜ì •
fix: isSavingSettings ìƒíƒœ ë³€ìˆ˜ ëˆ„ë½ ìˆ˜ì •
- ì„¤ì • ì €ì¥ ì‹œ ë¡œë”© ìƒíƒœë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•œ ìƒíƒœ ì¶”ê°€
- handleSaveSettingsì—ì„œ loading ìƒíƒœ ê´€ë¦¬ ì¶”ê°€

# 3. ìµœê·¼ ì§€í‘œ ë¯¸ë¦¬ë³´ê¸°
feat: ì¶”ì  ì¹´ë“œì— ìµœê·¼ ì§€í‘œ ë¯¸ë¦¬ë³´ê¸° ì¶”ê°€
- ì¹´ë“œ ìƒë‹¨ì— ìµœê·¼ ìˆœìœ„, ë°©ë¬¸ìë¦¬ë·°, ë¸”ë¡œê·¸ë¦¬ë·° í‘œì‹œ
- ê·¸ë¼ë””ì–¸íŠ¸ ë°°ê²½ìœ¼ë¡œ ê°€ë…ì„± í–¥ìƒ
- ìˆœìœ„ ë³€ë™ì„ í™”ì‚´í‘œì™€ ìƒ‰ìƒìœ¼ë¡œ í‘œì‹œ
- "ì§€ê¸ˆ ìˆ˜ì§‘" í›„ ìë™ìœ¼ë¡œ ìµœê·¼ ì§€í‘œ ê°±ì‹ 
- ë°˜ì‘í˜• ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ (3ì—´)

# 4. ì „ì¼ ëŒ€ë¹„ ë³€ë™ê°’
feat: ì§€í‘œ ì¹´ë“œì— ì „ì¼ ëŒ€ë¹„ ë³€ë™ê°’ ì¶”ê°€
- ìˆœìœ„, ë°©ë¬¸ìë¦¬ë·°, ë¸”ë¡œê·¸ë¦¬ë·°ì˜ ì „ì¼ ëŒ€ë¹„ ë³€ë™ê°’ í‘œì‹œ
- ì¦ê°€ëŠ” ë¹¨ê°„ìƒ‰ â†‘, ê°ì†ŒëŠ” íŒŒë€ìƒ‰ â†“ë¡œ í‘œì‹œ
- ìˆœìœ„ëŠ” ì˜¬ë¼ê°€ë©´ íŒŒë€ìƒ‰ â†‘, ë‚´ë ¤ê°€ë©´ ë¹¨ê°„ìƒ‰ â†“
- ìµœê·¼ 2ê°œì˜ ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ ë¹„êµí•˜ì—¬ ë³€ë™ê°’ ê³„ì‚°

fix: ì „ì¼ ë°ì´í„° ì—†ì„ ë•Œë„ ìµœê·¼ ì§€í‘œ í‘œì‹œ
- ìµœê·¼ ë°ì´í„°ë§Œ ìˆì„ ë•Œ "ì‹ ê·œ"ë¡œ í‘œì‹œ
- ì „ì¼ ë°ì´í„° ìˆê³  ë³€ë™ ì—†ì„ ë•Œ "-"ë¡œ í‘œì‹œ
- ì „ì¼ ë°ì´í„° ìˆê³  ë³€ë™ ìˆì„ ë•Œ í™”ì‚´í‘œì™€ ìˆ«ì í‘œì‹œ

# 5. ë””ë²„ê¹… ë° ë¬¸ì œ í•´ê²°
debug: ì†Œì…œ ë¡œê·¸ì¸ ì‚¬ìš©ìì˜ ë§¤ì¥ ì¡°íšŒ ë¬¸ì œ ë””ë²„ê¹…
- ë°±ì—”ë“œ stores APIì— user_id ë¡œê¹… ì¶”ê°€
- ì†Œì…œ ë¡œê·¸ì¸ ì‹œ user_id ë¡œê¹… ì¶”ê°€
- í”„ë¡ íŠ¸ì—”ë“œ useStoresì— user ë° API ì‘ë‹µ ë¡œê¹… ì¶”ê°€

fix: ë°±ì—”ë“œ ì¬ì‹œì‘ìœ¼ë¡œ ì†Œì…œ ë¡œê·¸ì¸ ë§¤ì¥ ì—°ê²° ë¬¸ì œ í•´ê²°
- Docker ì»¨í…Œì´ë„ˆ ì¬ë¹Œë“œ ë° ì¬ì‹œì‘
- ë””ë²„ê¹… ë¡œê·¸ ìœ ì§€ (í–¥í›„ ë¬¸ì œ ë°œìƒ ì‹œ í™œìš©)
```

#### ë°°í¬ í”„ë¡œì„¸ìŠ¤
1. **í”„ë¡ íŠ¸ì—”ë“œ:** GitHub Desktop â†’ Vercel ìë™ ë°°í¬
2. **ë°±ì—”ë“œ:** SSH â†’ Docker ì»¨í…Œì´ë„ˆ ì¬ë¹Œë“œ
3. **í…ŒìŠ¤íŠ¸:** 
   - âœ… ì´ë©”ì¼ ê³„ì • ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
   - âœ… ì†Œì…œ ë¡œê·¸ì¸ (ì¹´ì¹´ì˜¤/ë„¤ì´ë²„) í…ŒìŠ¤íŠ¸
   - âœ… ë§¤ì¥ ëª©ë¡ í‘œì‹œ í™•ì¸
   - âœ… ì£¼ìš”ì§€í‘œ ì¶”ì  ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
   - âœ… ëª¨ë‹¬ UI ë™ì‘ í™•ì¸
   - âœ… ìµœê·¼ ì§€í‘œ ë¯¸ë¦¬ë³´ê¸° í™•ì¸
   - âœ… ë³€ë™ê°’ ê³„ì‚° í™•ì¸

---

### ğŸ“Š ì„±ê³¼ ë° ê°œì„  íš¨ê³¼

#### UI/UX ê°œì„ 
- **ìŠ¤í¬ë¡¤ ì œê±°:** ëª¨ë‹¬ë¡œ ì¸í•´ í˜ì´ì§€ ìŠ¤í¬ë¡¤ ë¶ˆí•„ìš”
- **ì •ë³´ ë°€ë„ í–¥ìƒ:** ì¹´ë“œì— ìµœê·¼ ì§€í‘œ ë¯¸ë¦¬ë³´ê¸° ì¶”ê°€ë¡œ í•œëˆˆì— íŒŒì•… ê°€ëŠ¥
- **ì‹œê°ì  ê°œì„ :** ê·¸ë¼ë””ì–¸íŠ¸, ì•„ì´ì½˜, ìƒ‰ìƒìœ¼ë¡œ ê°€ë…ì„± ëŒ€í­ í–¥ìƒ
- **ë°˜ì‘í˜•:** ëª¨ë°”ì¼/íƒœë¸”ë¦¿/PC ëª¨ë“  ë””ë°”ì´ìŠ¤ ìµœì í™”

#### ì‚¬ìš©ì ê²½í—˜
- **ì¦‰ì‹œì„±:** ì¹´ë“œë§Œ ë´ë„ ìµœê·¼ ìƒíƒœ íŒŒì•… ê°€ëŠ¥
- **í¸ì˜ì„±:** ëª¨ë‹¬ë¡œ ì¸í•´ í´ë¦­ í•œ ë²ˆìœ¼ë¡œ ìƒì„¸ ì •ë³´ í™•ì¸
- **ì§ê´€ì„±:** ìƒ‰ìƒê³¼ í™”ì‚´í‘œë¡œ ë³€ë™ ë°©í–¥ ì¦‰ì‹œ ì´í•´ ê°€ëŠ¥

#### ê¸°ìˆ ì  ê°œì„ 
- **ë””ë²„ê¹… ë¡œê·¸:** í–¥í›„ ë¬¸ì œ ë°œìƒ ì‹œ ë¹ ë¥¸ ì›ì¸ íŒŒì•… ê°€ëŠ¥
- **ëª¨ë“ˆí™”:** Dialog ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš© ê°€ëŠ¥
- **ìµœì í™”:** ìµœê·¼ 2ê°œ ë°ì´í„°ë§Œ ë¡œë“œí•˜ì—¬ ì„±ëŠ¥ í–¥ìƒ

---

### ğŸ¯ ë‚¨ì€ ì‘ì—… ë° ê°œì„  ì‚¬í•­

#### 1. ì•Œë¦¼ ê¸°ëŠ¥ êµ¬í˜„
- [ ] ì¹´ì¹´ì˜¤í†¡ ë¹„ì¦ˆë©”ì‹œì§€ API ì—°ë™
- [ ] SMS API ì—°ë™ (NCP SENS ë˜ëŠ” Twilio)
- [ ] SMTP ì„¤ì • (ì´ë©”ì¼ ì•Œë¦¼)

#### 2. ìŠ¤ì¼€ì¤„ëŸ¬ ìµœì í™”
- [ ] ë§¤ ì‹œê°„ ì •ê°ì— next_collection_at í™•ì¸
- [ ] ë°°ì¹˜ ì²˜ë¦¬ë¡œ ì—¬ëŸ¬ tracker ë™ì‹œ ìˆ˜ì§‘
- [ ] ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ë¡œì§ ì¶”ê°€

#### 3. ì„±ëŠ¥ ê°œì„ 
- [ ] ìµœê·¼ ì§€í‘œ ì¡°íšŒ APIì— limit íŒŒë¼ë¯¸í„° ì¶”ê°€
- [ ] ìºì‹± ì „ëµ ë„ì… (Redis)
- [ ] ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì‹œ í˜ì´ì§€ë„¤ì´ì…˜

#### 4. ì¶”ê°€ ê¸°ëŠ¥
- [ ] ì§€í‘œ ë‚´ë³´ë‚´ê¸° (CSV, Excel)
- [ ] ì»¤ìŠ¤í…€ ì•Œë¦¼ ì¡°ê±´ ì„¤ì •
- [ ] ë‹¤ì¤‘ ë§¤ì¥ ë¹„êµ ëŒ€ì‹œë³´ë“œ

---

### ğŸ“ êµí›ˆ ë° ë…¸í•˜ìš°

#### 1. Docker ì»¨í…Œì´ë„ˆ ê´€ë¦¬
**êµí›ˆ:** ì½”ë“œ ë³€ê²½ í›„ ë°˜ë“œì‹œ ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘ í™•ì¸
```bash
# ë³€ê²½ ì‚¬í•­ì´ ìˆì„ ë•Œë§ˆë‹¤
docker-compose down
docker-compose up -d --build
```

#### 2. ë””ë²„ê¹… ì „ëµ
**íš¨ê³¼ì ì¸ ë°©ë²•:**
1. í”„ë¡ íŠ¸ì—”ë“œ â†’ ë°±ì—”ë“œ â†’ ë°ì´í„°ë² ì´ìŠ¤ ìˆœìœ¼ë¡œ ë¡œê·¸ ì¶”ê°€
2. Sequential Thinkingìœ¼ë¡œ ì²´ê³„ì  ë¶„ì„
3. ê° ë ˆì´ì–´ì˜ ì…ì¶œë ¥ ë°ì´í„° í™•ì¸

#### 3. UI/UX ê°œì„  í”„ë¡œì„¸ìŠ¤
**ë‹¨ê³„ì  ì ‘ê·¼:**
1. ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘ ("ìŠ¤í¬ë¡¤ì´ ë¶ˆí¸í•¨")
2. í•´ê²°ì±… ì œì•ˆ (ëª¨ë‹¬ ë„ì…)
3. ì¶”ê°€ ê°œì„  ìš”ì²­ ("ë¹ˆ ê³µê°„ í™œìš©")
4. ì ì§„ì  ê°œì„  (ë¯¸ë¦¬ë³´ê¸° â†’ ë³€ë™ê°’)

#### 4. ë°˜ì‘í˜• ë””ìì¸ íŒ
```typescript
// ëª¨ë°”ì¼ ìš°ì„  + ì ì§„ì  í™•ì¥
<div className="grid grid-cols-3 gap-2">           {/* ëª¨ë°”ì¼: 3ì—´ */}
<div className="md:grid-cols-1">                  {/* íƒœë¸”ë¦¿: 1ì—´ */}
<div className="lg:grid-cols-2">                  {/* PC: 2ì—´ */}
```

---

### ğŸ† ìµœì¢… ê²°ê³¼

**êµ¬í˜„ ì™„ë£Œ:**
- âœ… ì£¼ìš”ì§€í‘œ ì¶”ì  ê¸°ëŠ¥ 100% ì™„ì„±
- âœ… ëª¨ë‹¬ UIë¡œ ì‚¬ìš©ì„± ëŒ€í­ ê°œì„ 
- âœ… ìµœê·¼ ì§€í‘œ ë¯¸ë¦¬ë³´ê¸°ë¡œ ì •ë³´ ë°€ë„ í–¥ìƒ
- âœ… ë¦¬ë·° ë³€ë™ê°’ìœ¼ë¡œ íŠ¸ë Œë“œ íŒŒì•… ê°€ëŠ¥
- âœ… ì†Œì…œ ë¡œê·¸ì¸ ì‚¬ìš©ì ë§¤ì¥ ì—°ê²° ë¬¸ì œ í•´ê²°
- âœ… ë””ë²„ê¹… ë¡œê·¸ë¡œ í–¥í›„ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

**í…ŒìŠ¤íŠ¸ ì™„ë£Œ:**
- âœ… ì´ë©”ì¼ ë¡œê·¸ì¸
- âœ… ì†Œì…œ ë¡œê·¸ì¸ (ì¹´ì¹´ì˜¤/ë„¤ì´ë²„)
- âœ… ë§¤ì¥ ëª©ë¡ ì¡°íšŒ
- âœ… ì¶”ì  ì„¤ì • ìƒì„±/ìˆ˜ì •/ì‚­ì œ
- âœ… ì§€ê¸ˆ ìˆ˜ì§‘ ê¸°ëŠ¥
- âœ… ì§€í‘œ ë³´ê¸° (ì°¨íŠ¸/í…Œì´ë¸”)
- âœ… ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ (ëª¨ë°”ì¼/íƒœë¸”ë¦¿/PC)

**ë°°í¬ ì™„ë£Œ:**
- âœ… í”„ë¡ íŠ¸ì—”ë“œ: Vercel
- âœ… ë°±ì—”ë“œ: AWS EC2 (Docker)
- âœ… í”„ë¡œë•ì…˜ í™˜ê²½ ì•ˆì • ì‘ë™

---

**ì‘ì„±ì¼:** 2026-01-21  
**ì‘ì—… ì‹œê°„:** ì•½ 3ì‹œê°„  
**í…ŒìŠ¤íŠ¸ ì™„ë£Œ:** âœ…  
**í”„ë¡œë•ì…˜ ë°°í¬:** âœ…  
**ì‚¬ìš©ì ë§Œì¡±ë„:** â­â­â­â­â­ (UI/UX ëŒ€í­ ê°œì„ )

=====================================

## ì„¸ì…˜ 19: ì†Œì…œ ë¡œê·¸ì¸ RLS ë¬¸ì œ ì™„ì „ í•´ê²° ë° ëŒ€ì‹œë³´ë“œ UI ì „ë©´ ê°œí¸
=====================================

**ì‘ì—… ê¸°ê°„:** 2026-01-22  
**ì£¼ìš” ëª©í‘œ:** ì†Œì…œ ë¡œê·¸ì¸ ì¬ë¡œê·¸ì¸ ì‹œ ë°ì´í„° ì¡°íšŒ ì‹¤íŒ¨ ë¬¸ì œ ì™„ì „ í•´ê²° ë° ëŒ€ì‹œë³´ë“œ UX ì „ë©´ ê°œì„ 

---

### ğŸ” 1. ì†Œì…œ ë¡œê·¸ì¸ RLS ë¬¸ì œ ì™„ì „ í•´ê²°

#### 1.1 ë¬¸ì œ ìƒí™©
**ì¦ìƒ:**
- ìµœì´ˆ ì†Œì…œ ë¡œê·¸ì¸: ì„±ê³µ âœ…
- ë¡œê·¸ì•„ì›ƒ í›„ ì¬ë¡œê·¸ì¸: ë§¤ì¥ ë° ì¶”ì í‚¤ì›Œë“œ ë°ì´í„° ì¡°íšŒ ì‹¤íŒ¨ âŒ
- ì´ë©”ì¼ ë¡œê·¸ì¸: ëª¨ë“  ê²½ìš° ì •ìƒ ì‘ë™ âœ…

**Sequential Thinking ë¶„ì„:**
1. **ê°€ì„¤:** RLS ì •ì±…ì´ `auth.uid()`ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ë™
2. **ë¬¸ì œ:** ì†Œì…œ ë¡œê·¸ì¸ ì‚¬ìš©ìëŠ” `profiles.id` â‰  `auth.users.id` ë¶ˆì¼ì¹˜
3. **ì›ì¸:** ê¸°ì¡´ ì½”ë“œê°€ ì»¤ìŠ¤í…€ JWTë¥¼ ìƒì„±í•˜ì—¬ Supabase Authì™€ ë™ê¸°í™”ë˜ì§€ ì•ŠìŒ
4. **í•´ê²° ë°©í–¥:** Supabase native authë¥¼ ì‚¬ìš©í•˜ê³  `profiles.id`ë¥¼ `auth.users.id`ì™€ ì¼ì¹˜ì‹œì¼œì•¼ í•¨

#### 1.2 RLS Bypass í•¨ìˆ˜ ìƒì„±

**ë¬¸ì œ:** `get_current_user` í•¨ìˆ˜ì—ì„œ JWT ê²€ì¦ í›„ `profiles` ì¡°íšŒ ì‹œ RLS ì •ì±…ì— ë§‰í˜

**í•´ê²°:** RLSë¥¼ ìš°íšŒí•˜ëŠ” PostgreSQL í•¨ìˆ˜ ìƒì„±

```sql
-- supabase/migrations/020_add_bypass_rls_functions.sql
CREATE OR REPLACE FUNCTION get_profile_by_id_bypass_rls(p_user_id UUID)
RETURNS TABLE (
  id UUID,
  email TEXT,
  display_name TEXT,
  phone_number TEXT,
  profile_image_url TEXT,
  auth_provider TEXT,
  subscription_tier TEXT,
  total_credits INT,
  onboarding_completed BOOLEAN,
  user_position TEXT,
  marketing_experience TEXT,
  agency_experience TEXT,
  created_at TIMESTAMPTZ,
  last_login_at TIMESTAMPTZ
)
SECURITY DEFINER
SET search_path = public
LANGUAGE plpgsql
AS $$
BEGIN
  RETURN QUERY
  SELECT
    profiles.id,
    profiles.email,
    profiles.display_name,
    profiles.phone_number,
    profiles.profile_image_url,
    profiles.auth_provider,
    profiles.subscription_tier,
    profiles.total_credits,
    profiles.onboarding_completed,
    profiles.user_position,
    profiles.marketing_experience,
    profiles.agency_experience,
    profiles.created_at,
    profiles.last_login_at
  FROM profiles
  WHERE profiles.id = p_user_id;
END;
$$;

-- service_roleì—ë§Œ ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬ (ë³´ì•ˆ)
GRANT EXECUTE ON FUNCTION get_profile_by_id_bypass_rls TO service_role;
REVOKE EXECUTE ON FUNCTION get_profile_by_id_bypass_rls FROM anon, authenticated, public;
```

**ë³´ì•ˆ ê³ ë ¤ì‚¬í•­:**
- âœ… `SECURITY DEFINER`ë¡œ í•¨ìˆ˜ ì†Œìœ ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰
- âœ… `service_role`ì—ë§Œ ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
- âœ… ë°±ì—”ë“œì—ì„œ JWT ê²€ì¦ í›„ì—ë§Œ í˜¸ì¶œ
- âœ… user_id íŒŒë¼ë¯¸í„°ëŠ” JWTì—ì„œ ì¶”ì¶œí•œ ê°’ë§Œ ì‚¬ìš©

#### 1.3 ì†Œì…œ ë¡œê·¸ì¸ ë¡œì§ ì™„ì „ ì¬êµ¬ì„±

**ê¸°ì¡´ ë¬¸ì œì :**
1. Admin API(`admin.create_user`) ì‚¬ìš© ì‹œ "User not allowed" ì—ëŸ¬
2. ì»¤ìŠ¤í…€ JWT ìƒì„±ìœ¼ë¡œ Supabase Authì™€ ë¶ˆì¼ì¹˜
3. `profiles.id`ì™€ `auth.users.id` ë¶ˆì¼ì¹˜ë¡œ RLS ì‹¤íŒ¨

**ìƒˆë¡œìš´ ì ‘ê·¼ ë°©ì‹:**
1. **Email-based Fixed Password ì „ëµ**
   - ì†Œì…œ ë¡œê·¸ì¸ ì‚¬ìš©ìë„ ì¼ê´€ëœ ë¹„ë°€ë²ˆí˜¸ ì‚¬ìš©
   - `password = hashlib.sha256(f"{email}{SOCIAL_LOGIN_SALT}{provider}".encode()).hexdigest()`

2. **Supabase Native Auth ì‚¬ìš©**
   - `supabase.auth.sign_in_with_password()` ì‹œë„
   - ì‹¤íŒ¨ ì‹œ `supabase.auth.sign_up()` ì‹œë„
   - Admin API ì™„ì „ ì œê±°

3. **ID ë¶ˆì¼ì¹˜ ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜**
   - `profiles.id` â‰  `auth.users.id` ê°ì§€ ì‹œ ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜
   - `migrate_user_to_new_auth_id()` í•¨ìˆ˜ í˜¸ì¶œ

**êµ¬í˜„:**

```python
# backend/app/routers/auth.py

@router.post("/naver", response_model=AuthResponse)
async def naver_login(request: NaverAuthRequest):
    try:
        # 1. ë„¤ì´ë²„ í”„ë¡œí•„ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
        naver_profile = get_naver_profile(request.access_token)
        email = naver_profile["email"]
        
        # 2. Email-based fixed password ìƒì„±
        password = hashlib.sha256(
            f"{email}{SOCIAL_LOGIN_SALT}naver".encode()
        ).hexdigest()
        
        # 3. ê¸°ì¡´ í”„ë¡œí•„ í™•ì¸
        existing_profile = supabase.rpc(
            "get_profile_by_email_bypass_rls",
            {"p_email": email}
        ).execute()
        
        # 4. Supabase Auth ë¡œê·¸ì¸ ì‹œë„
        try:
            auth_response = supabase.auth.sign_in_with_password({
                "email": email,
                "password": password
            })
            access_token = auth_response.session.access_token
            auth_user_id = auth_response.user.id
            
        except Exception as e:
            # 4-1. ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œ íšŒì›ê°€ì…
            if "Invalid login credentials" in str(e):
                auth_response = supabase.auth.sign_up({
                    "email": email,
                    "password": password,
                    "options": {
                        "data": {
                            "display_name": naver_profile.get("name"),
                            "auth_provider": "naver"
                        }
                    }
                })
                access_token = auth_response.session.access_token
                auth_user_id = auth_response.user.id
            else:
                raise e
        
        # 5. profiles ë ˆì½”ë“œ ì²˜ë¦¬
        if existing_profile.data:
            # 5-1. ê¸°ì¡´ í”„ë¡œí•„ ì¡´ì¬ ì‹œ
            profile_data = existing_profile.data[0]
            profile_id = profile_data["id"]
            
            # 5-2. ID ë¶ˆì¼ì¹˜ ì‹œ ë§ˆì´ê·¸ë ˆì´ì…˜
            if profile_id != auth_user_id:
                supabase.rpc("migrate_user_to_new_auth_id", {
                    "p_old_id": profile_id,
                    "p_new_id": auth_user_id,
                    "p_email": email,
                    "p_display_name": naver_profile.get("name"),
                    "p_phone_number": naver_profile.get("mobile"),
                    "p_profile_image_url": naver_profile.get("profile_image"),
                    "p_auth_provider": "naver",
                    "p_onboarding_completed": profile_data.get("onboarding_completed"),
                    "p_subscription_tier": profile_data.get("subscription_tier"),
                    "p_user_position": profile_data.get("user_position"),
                    "p_marketing_experience": profile_data.get("marketing_experience"),
                    "p_agency_experience": profile_data.get("agency_experience")
                }).execute()
                
                user_id = auth_user_id
            else:
                # 5-3. ID ì¼ì¹˜ ì‹œ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ë§Œ
                user_id = profile_id
        else:
            # 5-4. ì‹ ê·œ ì‚¬ìš©ì ì‹œ í”„ë¡œí•„ ìƒì„±
            supabase.rpc("insert_profile_bypass_rls", {
                "p_user_id": auth_user_id,
                "p_email": email,
                "p_display_name": naver_profile.get("name"),
                "p_phone_number": naver_profile.get("mobile"),
                "p_profile_image_url": naver_profile.get("profile_image"),
                "p_auth_provider": "naver"
            }).execute()
            
            user_id = auth_user_id
        
        # 6. ì‘ë‹µ ë°˜í™˜
        return AuthResponse(
            access_token=access_token,
            user=UserProfile(
                id=user_id,
                email=email,
                display_name=naver_profile.get("name"),
                ...
            )
        )
        
    except Exception as e:
        raise HTTPException(status_code=500, detail=str(e))
```

**ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ë„ ë™ì¼í•œ ë¡œì§ ì ìš©**

#### 1.4 ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ í•¨ìˆ˜ ìƒì„± ë° ìˆ˜ì • (4ì°¨ë¡€)

**1ì°¨: ê¸°ë³¸ ë§ˆì´ê·¸ë ˆì´ì…˜ í•¨ìˆ˜ ìƒì„±**

```sql
-- supabase/migrations/022_migrate_user_to_new_auth_id.sql
CREATE OR REPLACE FUNCTION migrate_user_to_new_auth_id(
  p_old_id UUID,
  p_new_id UUID,
  p_email TEXT,
  p_display_name TEXT,
  p_phone_number TEXT,
  p_profile_image_url TEXT,
  p_auth_provider TEXT,
  p_onboarding_completed BOOLEAN,
  p_subscription_tier TEXT,
  p_user_position TEXT,
  p_marketing_experience TEXT,
  p_agency_experience TEXT
)
RETURNS VOID
SECURITY DEFINER
SET search_path = public
LANGUAGE plpgsql
AS $$
BEGIN
  -- 1. stores í…Œì´ë¸”ì˜ user_id ì—…ë°ì´íŠ¸
  UPDATE stores SET user_id = p_new_id WHERE user_id = p_old_id;
  
  -- 2. metric_trackers í…Œì´ë¸”ì˜ user_id ì—…ë°ì´íŠ¸
  UPDATE metric_trackers SET user_id = p_new_id WHERE user_id = p_old_id;
  
  -- 3. ê¸°ì¡´ profiles ë ˆì½”ë“œ ì‚­ì œ
  DELETE FROM profiles WHERE id = p_old_id;
  
  -- 4. ìƒˆë¡œìš´ profiles ë ˆì½”ë“œ ìƒì„±
  INSERT INTO profiles (
    id, email, display_name, phone_number, profile_image_url,
    auth_provider, onboarding_completed, subscription_tier,
    user_position, marketing_experience, agency_experience,
    total_credits, created_at, last_login_at
  )
  SELECT 
    p_new_id, p_email, p_display_name, p_phone_number, p_profile_image_url,
    p_auth_provider, p_onboarding_completed, p_subscription_tier,
    p_user_position, p_marketing_experience, p_agency_experience,
    total_credits, created_at, NOW()
  FROM profiles WHERE id = p_old_id;
END;
$$;
```

**ë¬¸ì œ 1:** `ambiguous column "total_credits"` ì—ëŸ¬

**2ì°¨: Ambiguous Column ë¬¸ì œ ìˆ˜ì •**

```sql
-- supabase/migrations/023_fix_migrate_function_ambiguous_column.sql
-- SELECT ì ˆì—ì„œ í…Œì´ë¸”ëª… ëª…ì‹œ
SELECT 
  p_new_id, p_email, p_display_name, ...,
  profiles.total_credits,    -- ëª…ì‹œì ìœ¼ë¡œ í…Œì´ë¸”ëª… ì§€ì •
  profiles.created_at,
  NOW()
FROM profiles WHERE profiles.id = p_old_id;
```

**ë¬¸ì œ 2:** `violates foreign key constraint "stores_user_id_fkey"` ì—ëŸ¬  
â†’ `stores.user_id`ë¥¼ `p_new_id`ë¡œ ì—…ë°ì´íŠ¸í•˜ë ¤ëŠ”ë°, ì•„ì§ `profiles`ì— `p_new_id`ê°€ ì—†ìŒ

**3ì°¨: ë§ˆì´ê·¸ë ˆì´ì…˜ ìˆœì„œ ìˆ˜ì •**

```sql
-- supabase/migrations/024_fix_migration_order.sql
BEGIN
  -- 1. ë¨¼ì € ìƒˆë¡œìš´ profiles ë ˆì½”ë“œ ìƒì„± (total_credits ë³µì‚¬)
  INSERT INTO profiles (id, email, ..., total_credits, ...)
  SELECT p_new_id, p_email, ..., old_profile.total_credits, ...
  FROM (SELECT * FROM profiles WHERE id = p_old_id) AS old_profile;
  
  -- 2. ì´ì œ stores ì—…ë°ì´íŠ¸ (FK ì œì•½ì¡°ê±´ ë§Œì¡±)
  UPDATE stores SET user_id = p_new_id WHERE user_id = p_old_id;
  
  -- 3. metric_trackers ì—…ë°ì´íŠ¸
  UPDATE metric_trackers SET user_id = p_new_id WHERE user_id = p_old_id;
  
  -- 4. ë§ˆì§€ë§‰ìœ¼ë¡œ ê¸°ì¡´ profiles ë ˆì½”ë“œ ì‚­ì œ
  DELETE FROM profiles WHERE id = p_old_id;
END;
```

**ë¬¸ì œ 3:** `permission denied for function migrate_user_to_new_auth_id` ì—ëŸ¬

**4ì°¨: ê¶Œí•œ ë¬¸ì œ ìˆ˜ì •**

```sql
-- supabase/migrations/025_fix_migration_permissions.sql
-- service_roleê³¼ authenticated ëª¨ë‘ì—ê²Œ ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
GRANT EXECUTE ON FUNCTION migrate_user_to_new_auth_id TO service_role;
GRANT EXECUTE ON FUNCTION migrate_user_to_new_auth_id TO authenticated;
REVOKE EXECUTE ON FUNCTION migrate_user_to_new_auth_id FROM anon, public;
```

**ë¬¸ì œ 4:** `duplicate key value violates unique constraint "profiles_email_key"` ì—ëŸ¬  
â†’ ê¸°ì¡´ `profiles`ì— ê°™ì€ ì´ë©”ì¼ì´ ìˆëŠ” ìƒíƒœì—ì„œ ìƒˆ `profiles` ìƒì„± ì‹œë„

**5ì°¨: Email Unique Constraint ë¬¸ì œ ìˆ˜ì •**

```sql
-- supabase/migrations/026_fix_email_unique_constraint.sql
BEGIN
  -- 1. ê¸°ì¡´ profilesì˜ emailì„ ì„ì‹œë¡œ ë³€ê²½
  UPDATE profiles 
  SET email = CONCAT(email, '_OLD_', gen_random_uuid())
  WHERE id = p_old_id;
  
  -- 2. ìƒˆë¡œìš´ profiles ë ˆì½”ë“œ ìƒì„± (ì´ì œ email ì¶©ëŒ ì—†ìŒ)
  INSERT INTO profiles (id, email, ..., total_credits, ...)
  SELECT p_new_id, p_email, ..., old_profile.total_credits, ...
  FROM (
    SELECT * FROM profiles 
    WHERE email LIKE CONCAT('%', p_email, '_OLD_%')
    LIMIT 1
  ) AS old_profile;
  
  -- 3. stores ë° metric_trackers ì—…ë°ì´íŠ¸
  UPDATE stores SET user_id = p_new_id WHERE user_id = p_old_id;
  UPDATE metric_trackers SET user_id = p_new_id WHERE user_id = p_old_id;
  
  -- 4. ê¸°ì¡´ profiles ì‚­ì œ (ì„ì‹œ emailê³¼ í•¨ê»˜)
  DELETE FROM profiles WHERE id = p_old_id;
END;
```

**ìµœì¢… ê²°ê³¼:**
- âœ… ì†Œì…œ ë¡œê·¸ì¸ ì¬ë¡œê·¸ì¸ ì‹œ ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜
- âœ… `profiles.id` = `auth.users.id` ì¼ì¹˜ ë³´ì¥
- âœ… ëª¨ë“  ê´€ë ¨ ë°ì´í„° (stores, metric_trackers) ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜
- âœ… RLS ì •ì±… ì •ìƒ ì‘ë™
- âœ… ê¸°ì¡´ ë°ì´í„° ë³´ì¡´ (total_credits, onboarding ìƒíƒœ ë“±)

---

### ğŸ¨ 2. ëŒ€ì‹œë³´ë“œ UI ì „ë©´ ê°œí¸

#### 2.1 ì¶”ì í‚¤ì›Œë“œ ì¹´ë“œ ê°œì„ 

**ìš”êµ¬ì‚¬í•­:**
1. ìˆœìœ„, ë°©ë¬¸ìë¦¬ë·°, ë¸”ë¡œê·¸ë¦¬ë·°ë¥¼ ëª…í™•í•˜ê²Œ í‘œì‹œ
2. ë³€ë™ê°’ í‘œì‹œ (ìƒ‰ìƒ + í™”ì‚´í‘œ)
3. ì¹´ë“œ width ê°ì†Œ
4. ê°™ì€ ë§¤ì¥ì˜ í‚¤ì›Œë“œëŠ” ê°™ì€ ìƒ‰ê¹”ë¡œ í‘œì‹œ

**êµ¬í˜„:**

```typescript
// frontend/app/dashboard/page.tsx

// ë§¤ì¥ë³„ ìƒ‰ìƒ ë§¤í•‘
const STORE_COLORS = [
  "bg-blue-50 border-blue-200",
  "bg-green-50 border-green-200",
  "bg-purple-50 border-purple-200",
  "bg-amber-50 border-amber-200",
  "bg-rose-50 border-rose-200",
  "bg-cyan-50 border-cyan-200"
];

const getStoreColorMap = (stores: Store[]) => {
  const colorMap: Record<string, string> = {};
  stores.forEach((store, index) => {
    colorMap[store.id] = STORE_COLORS[index % STORE_COLORS.length];
  });
  return colorMap;
};

// ì¶”ì í‚¤ì›Œë“œ ì¹´ë“œ ë Œë”ë§
{trackers.map((tracker) => {
  const storeColor = storeColorMap[tracker.store_id] || "bg-gray-50";
  
  return (
    <div key={tracker.id} className={`p-4 rounded-lg border-2 ${storeColor}`}>
      {/* ë§¤ì¥ëª… */}
      <div className="text-sm font-medium text-gray-600">
        {stores.find(s => s.id === tracker.store_id)?.name}
      </div>
      
      {/* í‚¤ì›Œë“œ */}
      <div className="text-lg font-bold">{tracker.keyword}</div>
      
      {/* ì§€í‘œ ê·¸ë¦¬ë“œ */}
      <div className="grid grid-cols-3 gap-2 mt-3">
        {/* ìˆœìœ„ */}
        <div className="bg-white/70 rounded-lg p-2">
          <div className="text-xs text-gray-600">ìˆœìœ„</div>
          <div className="text-2xl font-bold text-blue-600">
            {tracker.latest_rank || '-'}
          </div>
          {tracker.rank_change && (
            <div className={tracker.rank_change > 0 ? "text-red-500" : "text-green-500"}>
              {tracker.rank_change > 0 ? "â†“" : "â†‘"}{Math.abs(tracker.rank_change)}
            </div>
          )}
        </div>
        
        {/* ë°©ë¬¸ìë¦¬ë·° */}
        <div className="bg-white/70 rounded-lg p-2">
          <div className="text-xs text-gray-600">ë°©ë¬¸ì</div>
          <div className="text-lg font-bold">
            {tracker.visitor_review_count?.toLocaleString() || '-'}
          </div>
          {tracker.visitor_review_change && (
            <div className={tracker.visitor_review_change > 0 ? "text-blue-500" : "text-red-500"}>
              {tracker.visitor_review_change > 0 ? "â†‘" : "â†“"}
              {Math.abs(tracker.visitor_review_change)}
            </div>
          )}
        </div>
        
        {/* ë¸”ë¡œê·¸ë¦¬ë·° */}
        <div className="bg-white/70 rounded-lg p-2">
          <div className="text-xs text-gray-600">ë¸”ë¡œê·¸</div>
          <div className="text-lg font-bold">
            {tracker.blog_review_count?.toLocaleString() || '-'}
          </div>
          {tracker.blog_review_change && (
            <div className={tracker.blog_review_change > 0 ? "text-blue-500" : "text-red-500"}>
              {tracker.blog_review_change > 0 ? "â†‘" : "â†“"}
              {Math.abs(tracker.blog_review_change)}
            </div>
          )}
        </div>
      </div>
    </div>
  );
})}
```

**ì¹´ë“œ width ì¡°ì •:**
```typescript
// ê¸°ì¡´: ì „ì²´ ë„ˆë¹„
<div className="w-full">

// ë³€ê²½: ìµœëŒ€ ë„ˆë¹„ ì œí•œ + ê·¸ë¦¬ë“œ
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
```

#### 2.2 ë“œë˜ê·¸ì•¤ë“œë¡­ ê¸°ëŠ¥ ì¶”ê°€

**ìš”êµ¬ì‚¬í•­:** ì¶”ì í‚¤ì›Œë“œ ìˆœì„œë¥¼ ë“œë˜ê·¸ì•¤ë“œë¡­ìœ¼ë¡œ ë³€ê²½

**ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ íƒ:** `@dnd-kit` (Reactìš© ìµœì‹  DnD ë¼ì´ë¸ŒëŸ¬ë¦¬)

**ì„¤ì¹˜:**
```bash
npm install @dnd-kit/core @dnd-kit/sortable @dnd-kit/utilities
```

**êµ¬í˜„:**

```typescript
// frontend/app/dashboard/page.tsx

import {
  DndContext,
  closestCenter,
  MouseSensor,
  TouchSensor,
  KeyboardSensor,
  useSensor,
  useSensors,
} from '@dnd-kit/core';
import {
  SortableContext,
  rectSortingStrategy,
  useSortable,
} from '@dnd-kit/sortable';
import { CSS } from '@dnd-kit/utilities';

// ìˆœì„œ ë³€ê²½ ëª¨ë“œ ìƒíƒœ
const [isReordering, setIsReordering] = useState(false);

// DND ì„¼ì„œ ì„¤ì •
const sensors = useSensors(
  useSensor(MouseSensor, {
    activationConstraint: { distance: 10 }
  }),
  useSensor(TouchSensor, {
    activationConstraint: { delay: 250, tolerance: 5 }
  }),
  useSensor(KeyboardSensor)
);

// ë“œë˜ê·¸ ì¢…ë£Œ í•¸ë“¤ëŸ¬
const handleDragEnd = (event: any) => {
  const { active, over } = event;
  
  if (active.id !== over.id) {
    setTrackers((items) => {
      const oldIndex = items.findIndex((i) => i.id === active.id);
      const newIndex = items.findIndex((i) => i.id === over.id);
      
      const newItems = arrayMove(items, oldIndex, newIndex);
      
      // localStorageì— ìˆœì„œ ì €ì¥
      const order = newItems.map(item => item.id);
      localStorage.setItem('tracker_order', JSON.stringify(order));
      
      return newItems;
    });
  }
};

// Sortable ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
const SortableTrackerCard = ({ tracker }: { tracker: MetricTracker }) => {
  const {
    attributes,
    listeners,
    setNodeRef,
    transform,
    transition,
  } = useSortable({ id: tracker.id });
  
  const style = {
    transform: CSS.Transform.toString(transform),
    transition,
  };
  
  return (
    <div ref={setNodeRef} style={style} {...attributes} {...listeners}>
      {/* ì¹´ë“œ ë‚´ìš© */}
    </div>
  );
};

// ë Œë”ë§
<div className="flex items-center gap-2 mb-4">
  <Link href="/dashboard/naver/metrics-tracker">
    <Button>+ ì¶”ì ê´€ë¦¬</Button>
  </Link>
  <Button 
    variant="outline" 
    onClick={() => setIsReordering(!isReordering)}
  >
    {isReordering ? "ì™„ë£Œ" : "ìˆœì„œë³€ê²½"}
  </Button>
</div>

{isReordering ? (
  <DndContext
    sensors={sensors}
    collisionDetection={closestCenter}
    onDragEnd={handleDragEnd}
  >
    <SortableContext items={trackers} strategy={rectSortingStrategy}>
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        {trackers.map((tracker) => (
          <SortableTrackerCard key={tracker.id} tracker={tracker} />
        ))}
      </div>
    </SortableContext>
  </DndContext>
) : (
  /* ì¼ë°˜ ì¹´ë“œ í‘œì‹œ */
)}
```

**ì£¼ìš” í¬ì¸íŠ¸:**
- âœ… `rectSortingStrategy`: ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒì— ìµœì í™”
- âœ… `MouseSensor`, `TouchSensor`, `KeyboardSensor`: ë‹¤ì–‘í•œ ì…ë ¥ ì§€ì›
- âœ… `activationConstraint`: ìš°ë°œì  ë“œë˜ê·¸ ë°©ì§€
- âœ… `localStorage`: ìˆœì„œ ì˜êµ¬ ì €ì¥
- âœ… "ìˆœì„œë³€ê²½" ë²„íŠ¼ìœ¼ë¡œ ëª¨ë“œ ì „í™˜

#### 2.3 ë§¤ì¥ë³„ ê·¸ë£¹í™” ë ˆì´ì•„ì›ƒ

**ìš”êµ¬ì‚¬í•­:**
1. ì¶”ì í‚¤ì›Œë“œë¥¼ ë§¤ì¥ë³„ë¡œ ê·¸ë£¹í™”
2. ê° ë§¤ì¥ë‹¹ ìµœëŒ€ 4ê°œ í‚¤ì›Œë“œ í‘œì‹œ
3. ë§¤ì¥ëª… + ì¸ë„¤ì¼ í‘œì‹œ
4. ë¸”ë¡œê·¸/ë°©ë¬¸ìë¦¬ë·°ëŠ” ë§¤ì¥ ë ˆë²¨ì— í•œ ë²ˆë§Œ í‘œì‹œ (í‚¤ì›Œë“œë³„ X)
5. ê°œë³„ í‚¤ì›Œë“œ "ìƒˆë¡œê³ ì¹¨" ë²„íŠ¼
6. ë§¤ì¥ ì „ì²´ "ìƒˆë¡œê³ ì¹¨" ë²„íŠ¼

**ë°ì´í„° êµ¬ì¡° ì¬ì„¤ê³„:**

```typescript
interface StoreTrackerGroup {
  store: Store;
  trackers: MetricTrackerWithDetails[];
}

// ë§¤ì¥ë³„ë¡œ ê·¸ë£¹í™”
const groupTrackersByStore = (
  trackers: MetricTrackerWithDetails[],
  stores: Store[]
): StoreTrackerGroup[] => {
  const groups: Record<string, MetricTrackerWithDetails[]> = {};
  
  trackers.forEach((tracker) => {
    if (!groups[tracker.store_id]) {
      groups[tracker.store_id] = [];
    }
    groups[tracker.store_id].push(tracker);
  });
  
  return stores
    .filter(store => groups[store.id]?.length > 0)
    .map(store => ({
      store,
      trackers: groups[store.id].slice(0, 4) // ìµœëŒ€ 4ê°œ
    }));
};
```

**ë§¤ì¥ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸:**

```typescript
const StoreTrackerCard = ({ group }: { group: StoreTrackerGroup }) => {
  const { store, trackers } = group;
  
  // ë§¤ì¥ ë ˆë²¨ ë¦¬ë·° ìˆ˜ (ì²« ë²ˆì§¸ tracker ê¸°ì¤€)
  const storeMetrics = trackers[0];
  
  return (
    <div className="bg-white rounded-xl shadow-sm border p-6">
      {/* ë§¤ì¥ í—¤ë” */}
      <div className="flex items-center gap-3 mb-4">
        {/* ë§¤ì¥ ì¸ë„¤ì¼ */}
        {store.thumbnail && (
          <img 
            src={store.thumbnail} 
            alt={store.name}
            className="w-12 h-12 rounded-lg object-cover"
          />
        )}
        
        {/* ë§¤ì¥ëª… */}
        <div className="flex-1">
          <h3 className="text-lg font-bold">{store.name}</h3>
        </div>
        
        {/* ì „ì²´ ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ */}
        <Button
          size="sm"
          variant="outline"
          onClick={() => handleCollectAllStoreMetrics(trackers)}
          title="ì´ ë§¤ì¥ì˜ ëª¨ë“  ì¶”ì í‚¤ì›Œë“œ ìˆœìœ„ë¥¼ ì§€ê¸ˆ ìˆ˜ì§‘í•©ë‹ˆë‹¤!"
        >
          <RefreshCw className="w-4 h-4" />
        </Button>
      </div>
      
      {/* ë§¤ì¥ ë ˆë²¨ ë¦¬ë·° ì§€í‘œ */}
      <div className="grid grid-cols-2 gap-3 mb-4 bg-gray-50 rounded-lg p-3">
        {/* ë°©ë¬¸ìë¦¬ë·° */}
        <div className="flex items-center gap-2">
          <Users className="w-4 h-4 text-blue-500" />
          <div>
            <div className="text-xs text-gray-600">ë°©ë¬¸ìë¦¬ë·°</div>
            <div className="text-lg font-bold">
              {storeMetrics.visitor_review_count?.toLocaleString() || '-'}
            </div>
            {storeMetrics.visitor_review_change !== 0 && (
              <div className={storeMetrics.visitor_review_change > 0 ? "text-blue-500" : "text-red-500"}>
                {storeMetrics.visitor_review_change > 0 ? "â†‘" : "â†“"}
                {Math.abs(storeMetrics.visitor_review_change)}
              </div>
            )}
          </div>
        </div>
        
        {/* ë¸”ë¡œê·¸ë¦¬ë·° */}
        <div className="flex items-center gap-2">
          <FileText className="w-4 h-4 text-amber-500" />
          <div>
            <div className="text-xs text-gray-600">ë¸”ë¡œê·¸ë¦¬ë·°</div>
            <div className="text-lg font-bold">
              {storeMetrics.blog_review_count?.toLocaleString() || '-'}
            </div>
            {storeMetrics.blog_review_change !== 0 && (
              <div className={storeMetrics.blog_review_change > 0 ? "text-blue-500" : "text-red-500"}>
                {storeMetrics.blog_review_change > 0 ? "â†‘" : "â†“"}
                {Math.abs(storeMetrics.blog_review_change)}
              </div>
            )}
          </div>
        </div>
      </div>
      
      {/* í‚¤ì›Œë“œ ëª©ë¡ (ìµœëŒ€ 4ê°œ) */}
      <div className="space-y-2">
        {trackers.map((tracker) => (
          <div key={tracker.id} className="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
            <div className="flex-1">
              {/* í‚¤ì›Œë“œëª… */}
              <div className="font-medium">{tracker.keyword}</div>
              
              {/* ìˆœìœ„ */}
              <div className="flex items-center gap-2 mt-1">
                {/* Top 5 ë°°ì§€ */}
                {tracker.latest_rank && tracker.latest_rank <= 5 && (
                  <Sparkles className="w-4 h-4 text-yellow-500" />
                )}
                
                <span className="text-2xl font-bold text-blue-600">
                  {tracker.latest_rank || '-'}ìœ„
                </span>
                
                {/* ìˆœìœ„ ë³€ë™ */}
                {tracker.rank_change && tracker.rank_change !== 0 && (
                  <span className={tracker.rank_change > 0 ? "text-red-500" : "text-green-500"}>
                    {tracker.rank_change > 0 ? "â†“" : "â†‘"}{Math.abs(tracker.rank_change)}
                  </span>
                )}
              </div>
            </div>
            
            {/* ê°œë³„ ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ */}
            <Button
              size="sm"
              variant="ghost"
              onClick={() => handleCollectMetrics(tracker.id)}
            >
              <RefreshCw className="w-4 h-4" />
            </Button>
          </div>
        ))}
        
        {/* ë¹ˆ ìŠ¬ë¡¯ (4ê°œ ë¯¸ë§Œì¼ ë•Œ) */}
        {trackers.length < 4 && (
          Array.from({ length: 4 - trackers.length }).map((_, i) => (
            <Link key={i} href="/dashboard/naver/metrics-tracker">
              <div className="flex items-center justify-center p-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition cursor-pointer">
                <Plus className="w-4 h-4 mr-2" />
                <span className="text-sm text-gray-600">ì¶”ì í‚¤ì›Œë“œ ì¶”ê°€</span>
              </div>
            </Link>
          ))
        )}
      </div>
    </div>
  );
};
```

**ê³ ì • ë†’ì´ ì„¤ì • (4ê°œ í‚¤ì›Œë“œ ê¸°ì¤€):**

```typescript
<div className="h-[520px] flex flex-col">
  {/* í—¤ë”: ~80px */}
  {/* ë§¤ì¥ ë¦¬ë·°: ~100px */}
  {/* í‚¤ì›Œë“œ 4ê°œ: 4 * 80px = 320px */}
  {/* ì—¬ë°±: ~20px */}
</div>
```

#### 2.4 Backend API í™•ì¥

**ë¬¸ì œ:** ìˆœìœ„, ë¦¬ë·° ë³€ë™ê°’ì„ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê³„ì‚°í•˜ë©´ ë¹„íš¨ìœ¨ì 

**í•´ê²°:** ë°±ì—”ë“œì—ì„œ ê³„ì‚°í•˜ì—¬ API ì‘ë‹µì— í¬í•¨

**ìŠ¤í‚¤ë§ˆ í™•ì¥:**

```python
# backend/app/models/schemas.py

class MetricTrackerWithDetails(MetricTrackerBase):
    id: UUID
    store_id: UUID
    user_id: UUID
    created_at: datetime
    updated_at: datetime
    
    # ì¶”ê°€ í•„ë“œ
    latest_rank: Optional[int] = None
    rank_change: Optional[int] = None
    visitor_review_count: Optional[int] = None
    blog_review_count: Optional[int] = None
    visitor_review_change: Optional[int] = None
    blog_review_change: Optional[int] = None
```

**Service ë©”ì„œë“œ ìˆ˜ì •:**

```python
# backend/app/services/metric_tracker_service.py

async def get_trackers_by_user(self, user_id: UUID):
    # 1. Trackers ì¡°íšŒ
    result = self.supabase.table("metric_trackers").select("*").eq(
        "user_id", str(user_id)
    ).order("created_at", desc=True).execute()
    
    trackers_data = result.data or []
    
    # 2. ê° trackerì˜ ìµœê·¼ 2ê°œ metrics ì¡°íšŒ
    for tracker in trackers_data:
        metrics_result = self.supabase.table("daily_metrics").select("*").eq(
            "tracker_id", tracker["id"]
        ).order("collection_date", desc=True).limit(2).execute()
        
        metrics = metrics_result.data or []
        
        if len(metrics) >= 1:
            latest = metrics[0]
            tracker["latest_rank"] = latest["rank"]
            tracker["visitor_review_count"] = latest["visitor_review_count"]
            tracker["blog_review_count"] = latest["blog_review_count"]
            
            if len(metrics) >= 2:
                previous = metrics[1]
                
                # ìˆœìœ„ ë³€ë™ (ìˆœìœ„ëŠ” ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ)
                tracker["rank_change"] = latest["rank"] - previous["rank"]
                
                # ë¦¬ë·° ë³€ë™ (ë§ì„ìˆ˜ë¡ ì¢‹ìŒ)
                tracker["visitor_review_change"] = (
                    latest["visitor_review_count"] - previous["visitor_review_count"]
                )
                tracker["blog_review_change"] = (
                    latest["blog_review_count"] - previous["blog_review_count"]
                )
    
    return trackers_data
```

**API ì—”ë“œí¬ì¸íŠ¸:**

```python
# backend/app/routers/metric_tracker.py

@router.post("/trackers/{tracker_id}/collect", response_model=CollectMetricsResponse)
async def collect_metrics_now(
    tracker_id: UUID,
    current_user: dict = Depends(get_current_user)
):
    """ê°œë³„ trackerì˜ ì§€í‘œë¥¼ ì¦‰ì‹œ ìˆ˜ì§‘"""
    service = MetricTrackerService()
    result = await service.collect_tracker_metrics(tracker_id)
    return result
```

**í”„ë¡ íŠ¸ì—”ë“œ API í˜¸ì¶œ:**

```typescript
// frontend/lib/config.ts

export const api = {
  baseUrl: process.env.NEXT_PUBLIC_API_URL || 'https://api.whiplace.com',
  auth: { ... },
  stores: { ... },
  metrics: {
    list: (userId: string) => `${api.baseUrl}/api/v1/metrics/trackers?user_id=${userId}`,
    collect: (trackerId: string) => `${api.baseUrl}/api/v1/metrics/trackers/${trackerId}/collect`,
  }
};

// ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ í•¸ë“¤ëŸ¬
const handleCollectMetrics = async (trackerId: string) => {
  try {
    setCollectingId(trackerId);
    
    const response = await fetch(api.metrics.collect(trackerId), {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${token}`
      }
    });
    
    if (response.ok) {
      toast.success('ì§€í‘œë¥¼ ìˆ˜ì§‘í–ˆìŠµë‹ˆë‹¤!');
      await loadDashboardData(); // ìƒˆë¡œê³ ì¹¨
    }
  } catch (error) {
    toast.error('ì§€í‘œ ìˆ˜ì§‘ ì‹¤íŒ¨');
  } finally {
    setCollectingId(null);
  }
};

// ë§¤ì¥ ì „ì²´ ìƒˆë¡œê³ ì¹¨
const handleCollectAllStoreMetrics = async (trackers: MetricTrackerWithDetails[]) => {
  try {
    await Promise.all(
      trackers.map(tracker => 
        fetch(api.metrics.collect(tracker.id), {
          method: 'POST',
          headers: { 'Authorization': `Bearer ${token}` }
        })
      )
    );
    
    toast.success('ëª¨ë“  í‚¤ì›Œë“œ ì§€í‘œë¥¼ ìˆ˜ì§‘í–ˆìŠµë‹ˆë‹¤!');
    await loadDashboardData();
  } catch (error) {
    toast.error('ì¼ë¶€ ì§€í‘œ ìˆ˜ì§‘ ì‹¤íŒ¨');
  }
};
```

#### 2.5 ë“±ë¡ë§¤ì¥ ì¹´ë“œ ê°œì„ 

**ìš”êµ¬ì‚¬í•­:**
1. ë§¤ì¥ëª… í‘œì‹œ
2. ë§¤ì¥ ì¸ë„¤ì¼ ì¶”ê°€

**ë¬¸ì œ:** Backend APIëŠ” `name` í•„ë“œë¥¼ ë°˜í™˜í•˜ëŠ”ë° í”„ë¡ íŠ¸ì—”ë“œ ì¸í„°í˜ì´ìŠ¤ëŠ” `store_name` ì‚¬ìš©

**í•´ê²°:**

```typescript
// frontend/app/dashboard/page.tsx

interface Store {
  id: string;
  user_id: string;
  place_id: string;
  name: string;              // Backend API í•„ë“œ
  store_name?: string;       // ë ˆê±°ì‹œ í˜¸í™˜
  address: string;
  category: string;
  thumbnail?: string;        // ì¶”ê°€
  naver_place_url?: string;
  created_at: string;
}

// ë“±ë¡ë§¤ì¥ ì¹´ë“œ ë Œë”ë§
{stores.map((store) => (
  <Link key={store.id} href={`/dashboard/naver/${store.id}`}>
    <Card className="p-4 hover:shadow-md transition cursor-pointer">
      <div className="flex items-center gap-3">
        {/* ì¸ë„¤ì¼ */}
        {store.thumbnail && (
          <img 
            src={store.thumbnail} 
            alt={store.name || store.store_name}
            className="w-16 h-16 rounded-lg object-cover"
          />
        )}
        
        {/* ë§¤ì¥ ì •ë³´ */}
        <div className="flex-1">
          <h3 className="font-bold text-lg">
            {store.name || store.store_name}
          </h3>
          <p className="text-sm text-gray-600">{store.address}</p>
          <Badge variant="secondary">{store.category}</Badge>
        </div>
      </div>
    </Card>
  </Link>
))}
```

#### 2.6 Top 5 ìˆœìœ„ ë°°ì§€

**ìš”êµ¬ì‚¬í•­:** ìˆœìœ„ 1~5ìœ„ì— ë¶ˆê½ƒ ì•„ì´ì½˜ í‘œì‹œ

**êµ¬í˜„:**

```typescript
import { Sparkles } from 'lucide-react';

{tracker.latest_rank && tracker.latest_rank <= 5 && (
  <Sparkles className="w-5 h-5 text-yellow-500 animate-pulse" />
)}
```

#### 2.7 ì¶”ì í‚¤ì›Œë“œ ê°œìˆ˜ ì¡°ì • (5ê°œ â†’ 4ê°œ)

**ìš”êµ¬ì‚¬í•­:** ì¹´ë“œ ë†’ì´ë¥¼ ì¤„ì´ê¸° ìœ„í•´ 4ê°œë¡œ ë³€ê²½

**ë³€ê²½:**

```typescript
// ë§¤ì¥ë‹¹ ìµœëŒ€ 4ê°œ í‚¤ì›Œë“œ í‘œì‹œ
trackers: groups[store.id].slice(0, 4)

// ë¹ˆ ìŠ¬ë¡¯ë„ 4ê°œ ê¸°ì¤€
{trackers.length < 4 && (
  Array.from({ length: 4 - trackers.length }).map(...)
)}

// ì¹´ë“œ ë†’ì´ ì¡°ì •
<div className="h-[480px]"> {/* 520px â†’ 480px */}
```

---

### ğŸ“¦ 3. ë°°í¬ ë° í…ŒìŠ¤íŠ¸

#### 3.1 ì»¤ë°‹ ë‚´ì—­

```bash
# ì†Œì…œ ë¡œê·¸ì¸ ìˆ˜ì •ì‚¬í•­ (ì´ 10+ ì»¤ë°‹)
fix: RLS bypass í•¨ìˆ˜ ì¶”ê°€ (get_current_user ìˆ˜ì •)
fix: stores RLS bypass í•¨ìˆ˜ ì¶”ê°€
fix: Admin API ì œê±° ë° Supabase native auth ì‚¬ìš©
feat: ì†Œì…œ ë¡œê·¸ì¸ email-based fixed password ì „ëµ êµ¬í˜„
feat: migrate_user_to_new_auth_id í•¨ìˆ˜ ìƒì„±
fix: migrate í•¨ìˆ˜ ambiguous column ì—ëŸ¬ ìˆ˜ì •
fix: migrate í•¨ìˆ˜ ìˆœì„œ ë³€ê²½ (FK constraint í•´ê²°)
fix: migrate í•¨ìˆ˜ ê¶Œí•œ ë¬¸ì œ ìˆ˜ì •
fix: migrate í•¨ìˆ˜ email unique constraint í•´ê²°
test: ì†Œì…œ ë¡œê·¸ì¸ ì¬ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ í†µê³¼

# ëŒ€ì‹œë³´ë“œ UI ê°œì„ ì‚¬í•­ (ì´ 15+ ì»¤ë°‹)
feat: ì¶”ì í‚¤ì›Œë“œ ì¹´ë“œì— ìˆœìœ„/ë¦¬ë·° ì§€í‘œ í‘œì‹œ
feat: ë§¤ì¥ë³„ ìƒ‰ìƒ êµ¬ë¶„ ê¸°ëŠ¥ ì¶”ê°€
feat: DND-Kit ë“œë˜ê·¸ì•¤ë“œë¡­ ê¸°ëŠ¥ êµ¬í˜„
feat: ìˆœì„œë³€ê²½ ë²„íŠ¼ ë° ëª¨ë“œ ì „í™˜ ì¶”ê°€
feat: ë§¤ì¥ë³„ ê·¸ë£¹í™” ë ˆì´ì•„ì›ƒ êµ¬í˜„
feat: ë§¤ì¥ ì¸ë„¤ì¼ ë° ë§¤ì¥ëª… í‘œì‹œ
feat: ê°œë³„/ì „ì²´ ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ ì¶”ê°€
feat: Top 5 ìˆœìœ„ ë°°ì§€ (Sparkles) ì¶”ê°€
feat: ë¹ˆ ìŠ¬ë¡¯ì— "ì¶”ì í‚¤ì›Œë“œ ì¶”ê°€" ë²„íŠ¼
feat: Backend API í™•ì¥ (ë³€ë™ê°’ ê³„ì‚°)
feat: MetricTrackerWithDetails ìŠ¤í‚¤ë§ˆ í™•ì¥
feat: get_trackers_by_user ë©”ì„œë“œ ê°œì„ 
fix: Store ì¸í„°í˜ì´ìŠ¤ name/store_name í˜¸í™˜ì„±
fix: ì¹´ë“œ ë†’ì´ ì¡°ì • (4ê°œ í‚¤ì›Œë“œ ê¸°ì¤€)
style: ë°˜ì‘í˜• ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ ê°œì„ 
```

#### 3.2 ë°°í¬ í”„ë¡œì„¸ìŠ¤

**í”„ë¡ íŠ¸ì—”ë“œ:**
```bash
# ë¡œì»¬ì—ì„œ ë¹Œë“œ í…ŒìŠ¤íŠ¸
cd frontend
npm run build

# GitHub Desktopìœ¼ë¡œ ì»¤ë°‹ & í‘¸ì‹œ
# â†’ Vercel ìë™ ë°°í¬
```

**ë°±ì—”ë“œ:**
```bash
# EC2 ì ‘ì†
ssh ubuntu@api.whiplace.com

# ë°±ì—”ë“œ ì¬ë°°í¬
cd ~/egurado/backend
git pull origin main
docker-compose down
docker-compose up -d --build

# ë¡œê·¸ í™•ì¸
docker-compose logs -f
```

**Supabase ë§ˆì´ê·¸ë ˆì´ì…˜:**
```sql
-- SQL Editorì—ì„œ ì§ì ‘ ì‹¤í–‰
-- 020, 021, 022, 023, 024, 025, 026 migrations
```

#### 3.3 í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

**ì†Œì…œ ë¡œê·¸ì¸:**
- âœ… ë„¤ì´ë²„ ìµœì´ˆ ë¡œê·¸ì¸ â†’ ì„±ê³µ
- âœ… ë„¤ì´ë²„ ë¡œê·¸ì•„ì›ƒ â†’ ì¬ë¡œê·¸ì¸ â†’ ë§¤ì¥ ì •ìƒ í‘œì‹œ
- âœ… ì¹´ì¹´ì˜¤ ìµœì´ˆ ë¡œê·¸ì¸ â†’ ì„±ê³µ
- âœ… ì¹´ì¹´ì˜¤ ë¡œê·¸ì•„ì›ƒ â†’ ì¬ë¡œê·¸ì¸ â†’ ë§¤ì¥ ì •ìƒ í‘œì‹œ
- âœ… ì´ë©”ì¼ê³¼ ë™ì¼í•œ ì´ë©”ì¼ë¡œ ì†Œì…œ ë¡œê·¸ì¸ â†’ ìë™ ë¡œê·¸ì¸
- âœ… ê¸°ì¡´ í”„ë¡œí•„ ë°ì´í„° ë³´ì¡´ (total_credits, onboarding)
- âœ… ë§ˆì´ê·¸ë ˆì´ì…˜ í›„ stores/metric_trackers ì •ìƒ ì—°ë™

**ëŒ€ì‹œë³´ë“œ UI:**
- âœ… ì¶”ì í‚¤ì›Œë“œ ì¹´ë“œì— ìˆœìœ„/ë¦¬ë·° ì§€í‘œ í‘œì‹œ
- âœ… ë³€ë™ê°’ ìƒ‰ìƒ í‘œì‹œ (ìˆœìœ„: ë¹¨ê°•â†“/ì´ˆë¡â†‘, ë¦¬ë·°: íŒŒë‘â†‘/ë¹¨ê°•â†“)
- âœ… ë§¤ì¥ë³„ ìƒ‰ìƒ êµ¬ë¶„
- âœ… ë“œë˜ê·¸ì•¤ë“œë¡­ ìˆœì„œ ë³€ê²½
- âœ… localStorage ìˆœì„œ ì˜êµ¬ ì €ì¥
- âœ… ë§¤ì¥ë³„ ê·¸ë£¹í™” ë ˆì´ì•„ì›ƒ
- âœ… ë§¤ì¥ ì¸ë„¤ì¼ í‘œì‹œ
- âœ… ê°œë³„ í‚¤ì›Œë“œ ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼
- âœ… ë§¤ì¥ ì „ì²´ ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ (íˆ´íŒ í¬í•¨)
- âœ… Top 5 ìˆœìœ„ ë°°ì§€ (Sparkles)
- âœ… ë¹ˆ ìŠ¬ë¡¯ "ì¶”ì í‚¤ì›Œë“œ ì¶”ê°€" ë²„íŠ¼
- âœ… 4ê°œ í‚¤ì›Œë“œ í‘œì‹œ ë° ê³ ì • ë†’ì´
- âœ… ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ (ëª¨ë°”ì¼/íƒœë¸”ë¦¿/PC)

---

### ğŸ“Š 4. ì„±ê³¼ ë° êµí›ˆ

#### 4.1 ê¸°ìˆ ì  ì„±ê³¼

**ì†Œì…œ ë¡œê·¸ì¸ ë¬¸ì œ ì™„ì „ í•´ê²°:**
- âœ… RLS ìš°íšŒ ì—†ì´ ì •ìƒì ìœ¼ë¡œ RLS ì •ì±… ì‘ë™
- âœ… `profiles.id` = `auth.users.id` ì¼ì¹˜ ë³´ì¥
- âœ… ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜ìœ¼ë¡œ ê¸°ì¡´ ë°ì´í„° ë³´ì¡´
- âœ… Email-based fixed passwordë¡œ ì¼ê´€ì„± ìœ ì§€
- âœ… Admin API ì œê±°ë¡œ "User not allowed" ì—ëŸ¬ í•´ê²°

**ëŒ€ì‹œë³´ë“œ UX ëŒ€í­ ê°œì„ :**
- âœ… ì •ë³´ ë°€ë„ í–¥ìƒ (í•œ í™”ë©´ì— ë” ë§ì€ ì •ë³´)
- âœ… ì‹œê°ì  êµ¬ì¡°í™” (ë§¤ì¥ë³„ ê·¸ë£¹, ìƒ‰ìƒ êµ¬ë¶„)
- âœ… ì¸í„°ë™ì…˜ ê°œì„  (ë“œë˜ê·¸ì•¤ë“œë¡­, ìƒˆë¡œê³ ì¹¨)
- âœ… ë°˜ì‘í˜• ë””ìì¸ìœ¼ë¡œ ëª¨ë“  ë””ë°”ì´ìŠ¤ ìµœì í™”

**ì½”ë“œ í’ˆì§ˆ í–¥ìƒ:**
- âœ… Backendì—ì„œ ê³„ì‚° ë¡œì§ ì²˜ë¦¬ (í”„ë¡ íŠ¸ì—”ë“œ ë¶€ë‹´ ê°ì†Œ)
- âœ… íƒ€ì… ì•ˆì •ì„± (Pydantic, TypeScript)
- âœ… ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ (SortableTrackerCard)

#### 4.2 êµí›ˆ

**1. RLSì™€ Supabase Auth ì´í•´ì˜ ì¤‘ìš”ì„±**
- SupabaseëŠ” `auth.uid()`ë¥¼ ê¸°ë°˜ìœ¼ë¡œ RLSê°€ ì‘ë™
- ì»¤ìŠ¤í…€ JWTëŠ” RLSì™€ í˜¸í™˜ë˜ì§€ ì•ŠìŒ
- `profiles.id`ëŠ” ë°˜ë“œì‹œ `auth.users.id`ì™€ ì¼ì¹˜í•´ì•¼ í•¨

**2. ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ**
- ìˆœì„œê°€ ì¤‘ìš”: FK ì œì•½ì¡°ê±´ ê³ ë ¤
- Unique ì œì•½ì¡°ê±´ ì‚¬ì „ í•´ê²° (ì„ì‹œ email ë³€ê²½)
- Transactionìœ¼ë¡œ ì›ìì„± ë³´ì¥
- SECURITY DEFINERë¡œ ê¶Œí•œ ê´€ë¦¬

**3. Sequential Thinkingì˜ íš¨ê³¼**
- ë³µì¡í•œ ë¬¸ì œë¥¼ ë‹¨ê³„ì ìœ¼ë¡œ ë¶„ì„
- ê°€ì„¤ â†’ ê²€ì¦ â†’ ìˆ˜ì • ë°˜ë³µ
- ê·¼ë³¸ ì›ì¸ íŒŒì•… í›„ í•´ê²° (ì„ì‹œë°©í¸ X)

**4. UI/UX ê°œì„  í”„ë¡œì„¸ìŠ¤**
- ì‚¬ìš©ì í”¼ë“œë°±ì„ ë°”íƒ•ìœ¼ë¡œ ì ì§„ì  ê°œì„ 
- ì •ë³´ ê³„ì¸µ êµ¬ì¡° ëª…í™•íˆ (ë§¤ì¥ > í‚¤ì›Œë“œ > ì§€í‘œ)
- ìƒ‰ìƒê³¼ ì•„ì´ì½˜ìœ¼ë¡œ ì‹œê°ì  ì°¨ë³„í™”
- ë°˜ì‘í˜• ë””ìì¸ì€ í•„ìˆ˜

**5. DND-Kit ì‚¬ìš© ë…¸í•˜ìš°**
- `rectSortingStrategy`: ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ
- `activationConstraint`: ìš°ë°œì  ë“œë˜ê·¸ ë°©ì§€
- `MouseSensor` + `TouchSensor`: ë‹¤ì–‘í•œ ë””ë°”ì´ìŠ¤ ì§€ì›
- `localStorage`: ìˆœì„œ ì˜êµ¬ ì €ì¥

---

### ğŸ¯ 5. ë‚¨ì€ ì‘ì—…

#### 5.1 ê¸°ëŠ¥ ê°œì„ 
- [ ] ì¶”ì í‚¤ì›Œë“œ 5ê°œ ì´ìƒì¼ ë•Œ í˜ì´ì§€ë„¤ì´ì…˜
- [ ] ë§¤ì¥ ì¹´ë“œë„ ë“œë˜ê·¸ì•¤ë“œë¡­ ìˆœì„œ ë³€ê²½
- [ ] ì§€í‘œ ì°¨íŠ¸ ëª¨ë‹¬ (ì¶”ì„¸ ë¶„ì„)
- [ ] í‚¤ì›Œë“œ ê·¸ë£¹ ê´€ë¦¬ (íƒœê·¸ ê¸°ëŠ¥)

#### 5.2 ì„±ëŠ¥ ìµœì í™”
- [ ] API ì‘ë‹µ ìºì‹± (React Query)
- [ ] ì´ë¯¸ì§€ ìµœì í™” (Next.js Image)
- [ ] ë¬´í•œ ìŠ¤í¬ë¡¤ (ë§ì€ ë§¤ì¥/í‚¤ì›Œë“œ ì²˜ë¦¬)

#### 5.3 ì¶”ê°€ ê¸°ëŠ¥
- [ ] ì•Œë¦¼ ì„¤ì • (ìˆœìœ„ ë³€ë™ ì‹œ ì•Œë¦¼)
- [ ] ê²½ìŸì‚¬ í‚¤ì›Œë“œ ì¶”ì 
- [ ] CSV/Excel ë‚´ë³´ë‚´ê¸°
- [ ] ì£¼ê°„/ì›”ê°„ ë¦¬í¬íŠ¸ ìë™ ìƒì„±

---

### ğŸ† ìµœì¢… ê²°ê³¼

**êµ¬í˜„ ì™„ë£Œ:**
- âœ… ì†Œì…œ ë¡œê·¸ì¸ ì¬ë¡œê·¸ì¸ ë¬¸ì œ 100% í•´ê²°
- âœ… RLS ì •ì±… ì •ìƒ ì‘ë™
- âœ… ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ìë™í™”
- âœ… ëŒ€ì‹œë³´ë“œ UI ì „ë©´ ê°œí¸
- âœ… ë“œë˜ê·¸ì•¤ë“œë¡­ ìˆœì„œ ë³€ê²½
- âœ… ë§¤ì¥ë³„ ê·¸ë£¹í™” ë° ìƒ‰ìƒ êµ¬ë¶„
- âœ… ì‹¤ì‹œê°„ ì§€í‘œ ìƒˆë¡œê³ ì¹¨
- âœ… Top 5 ìˆœìœ„ ë°°ì§€
- âœ… ë°˜ì‘í˜• ë””ìì¸ ì™„ì„±

**í…ŒìŠ¤íŠ¸ ì™„ë£Œ:**
- âœ… ì†Œì…œ ë¡œê·¸ì¸ (ë„¤ì´ë²„/ì¹´ì¹´ì˜¤) ì¬ë¡œê·¸ì¸ Ã—10íšŒ ì´ìƒ
- âœ… ì´ë©”ì¼ ë¡œê·¸ì¸ ì •ìƒ ì‘ë™
- âœ… ë§¤ì¥/í‚¤ì›Œë“œ CRUD ì •ìƒ ì‘ë™
- âœ… ë“œë˜ê·¸ì•¤ë“œë¡­ ìˆœì„œ ë³€ê²½ ë° ì €ì¥
- âœ… ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ (ê°œë³„/ì „ì²´)
- âœ… ëª¨ë°”ì¼/íƒœë¸”ë¦¿/PC ë°˜ì‘í˜•

**ë°°í¬ ì™„ë£Œ:**
- âœ… í”„ë¡ íŠ¸ì—”ë“œ: Vercel (ìë™ ë°°í¬)
- âœ… ë°±ì—”ë“œ: AWS EC2 Docker
- âœ… ë°ì´í„°ë² ì´ìŠ¤: Supabase (Migrations ì ìš©)
- âœ… í”„ë¡œë•ì…˜ í™˜ê²½ ì•ˆì • ì‘ë™

---

**ì‘ì„±ì¼:** 2026-01-22  
**ì‘ì—… ì‹œê°„:** ì•½ 6ì‹œê°„  
**SQL ë§ˆì´ê·¸ë ˆì´ì…˜:** 7ê°œ íŒŒì¼ (020~026)  
**ì»¤ë°‹ ìˆ˜:** 25+ ì»¤ë°‹  
**í…ŒìŠ¤íŠ¸ ì™„ë£Œ:** âœ…  
**í”„ë¡œë•ì…˜ ë°°í¬:** âœ…  
**ì‚¬ìš©ì ë§Œì¡±ë„:** â­â­â­â­â­ (ëª¨ë“  ë¬¸ì œ í•´ê²° + UI ëŒ€í­ ê°œì„ )

=====================================
